
# 土豆钟 (Potato Clock) 🥔

**土豆钟** 是一款基于番茄工作法的高级桌面时间管理工具，融合了任务管理、健康微休息和数据统计功能。它采用现代化的扁平设计风格，支持 Windows 平台。

**当前版本**: v1.1.0

## ✨ 核心特色

### 🍅 番茄工作法
- **灵活计时**：自定义工作时长和长休息时长。
- **自动流转**：支持自动开始工作或休息，打造无缝心流体验。
- **强制重置**：随时一键重置回工作开始状态，快速调整节奏。

### 👀 健康微休息 (Micro-Breaks)
- **护眼模式**：在工作期间随机触发"眨眼放松"时刻（例如每 3-5 分钟触发 10 秒）。
- **独立设置**：支持自定义微休息的间隔和时长，全屏覆盖提示，强制放松双眼。

### 🎵 沉浸式音频
- **本地音乐支持**：支持加载本地 MP3 文件作为背景音乐或提示音。
- **独立音量**：提示音、休息音乐、微休息音乐音量独立可调。
- **断点续播**：暂停/开始时音乐平滑衔接。
- **路径持久化**：音乐文件路径会被保存，重启应用后自动恢复。

### ✅ 看板式任务管理
- **分栏管理**：支持自定义栏目（待办、进行中、已完成...）。
- **拖拽排序**：支持任务在栏目间拖拽流转，也支持栏目内上下排序。
- **自动清理**：每天自动清理"今天之前"完成的任务，保持清单清爽。

### 📊 数据统计 (v1.1 增强)
- **热力日历**：以日历形式直观展示每日专注时长和完成任务数。
- **多维度趋势图表**：支持按**周/月/年**查看工作趋势，双柱状图同时展示专注时长和完成任务数。
- **详细记录**：点击日历日期，查看当天的历史任务记录和专注时间。
- **历史数据整合**：自动整合从 Markdown 文件导入的历史数据。

### 📝 任务存档 (v1.1 新功能)
- **Markdown 自动导出**：每天的任务会自动保存到本地 Markdown 文件中。
- **按月归档**：文件以月份命名（如 `2026-01.md`），内容按日期分节，便于回顾。
- **任务格式规范**：
  - `- [ ]` 表示未完成任务
  - `- [x]` 表示已完成任务
- **导入历史记录**：支持导入已有的 Markdown 文件，自动解析并添加到统计数据中。
- **日期变更检测**：程序会检测日期变更，自动更新当月 Markdown 文件。

### 🎨 现代化 UI
- **网易云风格**：扁平化卡片设计，经典红白配色。
- **夜间模式**：全界面适配深色模式，护眼舒适。
- **界面缩放**：内置 50%-100% 界面缩放支持，适应不同分辨率屏幕。

---

## 🛠️ 安装说明

1. 下载最新版本的安装包 (`.exe`)。
2. 双击运行，选择安装路径。
3. 可以在桌面或开始菜单找到"土豆钟"启动程序。

---

## 💻 开发指南

本项目基于 **Electron + React 19 + TypeScript + Vite** 构建。

### 环境要求
- Node.js >= 16
- NPM / Yarn

### 启动本地开发
```bash
# 安装依赖
npm install

# 启动 React 开发服务器 (Web模式)
npm run dev

# 启动 Electron 开发模式
npm run exe
```

### 打包构建 (Windows)
```bash
npm run exe
```
打包后的文件位于 `release` 目录下。

---

## 📋 更新日志

### v1.1.0 (2026-01)
- ✨ **新功能**: Markdown 任务存档 - 每日任务自动保存到本地文件夹
- ✨ **新功能**: 导入历史 Markdown 文件，整合到统计数据
- 📊 **增强**: 统计页面支持按周/月/年查看趋势
- 📊 **增强**: 双柱状图同时展示专注时长和完成任务数
- 📊 **增强**: 日历热力图同时考虑专注时长和完成任务数
- 🔧 **修复**: 本地音乐文件路径持久化，重启后无需重新选择
- 🔧 **修复**: 微休息随机间隔按照用户设定的时间段触发

### v1.0.0
- 🎉 首次发布
- 番茄工作法计时器
- 健康微休息功能
- 看板式任务管理
- 数据统计与日历热力图
- 本地音乐支持
- 夜间模式

---

## 📝 License
MIT
